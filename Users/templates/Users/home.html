{% extends "Users/base.html" %}
{% block content %}
<style>
    .card-img-container {
        position: relative;
        width: 100%;
        padding-bottom: 100%;
    }

    .card-img-container img {
        position: absolute;
        object-fit: cover;
        width: 100%;
        height: 100%;
    }
</style>
<div class="container">
  <h1>User Homepage</h1>
  <div class="row">
    {% for item in items %}
    <div class="col-md-4 mb-4">
      <div class="card">
        <div class="card-img-container">
        <img src="{{ item.item_image.url }}" alt="{{ item.item_title }}">
        </div>
        <div class="card-body">
          <h5 class="card-title"><a href="{% url 'item-detail' item.pk %}">{{ item.item_title }}</a></h5>
          <p class="card-text">{{ item.item_description }}</p>
          {% if item.item_discount %}
          <p class="card-text">Price: <s>${{ item.item_price }}</s> ${{ item.selling_price }}</p>
          {% else %}
          <p class="card-text">Price: ${{ item.item_price }}</p>
          {% endif %}
          {% if item.avg_rating  %}
          <p class="card-text">Rating: {{ item.avg_rating }}/5</p>
          {% endif %}
          <a class="btn btn-primary btn-sm" href="{% url 'add-to-cart' item.pk %}">Add to Cart</a>       <a class="btn btn-warning btn-sm" href="{% url 'add-to-wishlist' item.pk %}">Wishlist</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock content %}
